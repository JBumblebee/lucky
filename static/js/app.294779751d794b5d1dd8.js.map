{"version":3,"sources":["webpack:///static/js/app.294779751d794b5d1dd8.js","webpack:///./src/main.js","webpack:///./src/lib/dom.js","webpack:///./src/lib/storage.js","webpack:///./src/lib/utils.js","webpack:///App.vue","webpack:///File.vue","webpack:///./src/App.vue","webpack:///./src/components/File.vue","webpack:///./src/components/File.vue?2fd8","webpack:///./src/App.vue?33bb"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","render","h","30","focus","isCollapse","range","document","createRange","selection","window","getSelection","select","undefined","value","collapseToEnd","contentEditable","selectNodeContents","collapse","removeAllRanges","addRange","fitByFontSize","min","arguments","length","step","scrollHeight","offsetHeight","adjustFontSize","amount","size","Math","max","parseInt","getComputedStyle","fontSize","style","Object","defineProperty","31","save","key","localStorage","setItem","_stringify2","k","hasOwnProperty","load","defaultValue","getItem","JSON","parse","e","_stringify","32","pad","number","digits","numDigits","floor","_log2","Array","fill","join","swap","items","i","j","shuffle","count","shuffled","len","random","_toConsumableArray2","_toConsumableArray3","_log","33","_assign","_assign2","_extends2","_extends3","_utils","_storage","_dom","_File","_File2","INITIAL","candidates","winners","total","round","rolling","isSetup","isFit","editing","welcome","name","components","file","data","computed","remaining","get","this","methods","setup","check","map","item","log","names","rounds","push","upload","_ref","_this","target","files","reader","FileReader","onload","_ref2","result","split","line","trim","filter","readAsText","roll","_this2","splice","clearTimeout","checkRemaining","fit","setInterval","slice","reset","$refs","clear","validity","setCustomValidity","edit","isStart","click","_ref3","contains","ref","$nextTick","HTMLElement","message","validationMessage","alert","isReset","_this3","watch","val","oldVal","innerHTML","mounted","_this4","addEventListener","34","props","String","disabled","Boolean","accept","multiple","required","input","$emit","change","choose","72","73","74","75","__vue_exports__","__vue_options__","__vue_template__","options","staticRenderFns","76","77","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","on","_t","_v","78","id","visibility","_l","winner","_s","_e","directives","rawName","expression","contenteditable","spellcheck","domProps","dblclick","$event","stopPropagation","keydown","_k","keyCode","class","started","submit","preventDefault","placeholder","composing","_n","blur","$forceUpdate"],"mappings":"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","file":"static/js/app.294779751d794b5d1dd8.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(79);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(75);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\t__webpack_require__(72);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  render: function render(h) {\n\t    return h(_App2.default);\n\t  }\n\t});\n\n/***/ },\n\n/***/ 30:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.focus = focus;\n\texports.fitByFontSize = fitByFontSize;\n\tfunction focus(el, isCollapse) {\n\t  var range = document.createRange();\n\t  var selection = window.getSelection();\n\t  if (typeof el.select === 'function' && el.value !== undefined) {\n\t    el.select();\n\t    if (isCollapse) {\n\t      selection.collapseToEnd();\n\t    }\n\t  } else if (el.contentEditable === 'true') {\n\t    range.selectNodeContents(el);\n\t    if (isCollapse) {\n\t      range.collapse();\n\t    }\n\t    selection.removeAllRanges();\n\t    selection.addRange(range);\n\t    el.focus();\n\t  } else {\n\t    el.focus();\n\t  }\n\t}\n\t\n\tfunction fitByFontSize(el) {\n\t  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 12;\n\t  var step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n\t\n\t  while (el.scrollHeight > el.offsetHeight) {\n\t    if (!adjustFontSize(el, min, -step)) {\n\t      break;\n\t    }\n\t  }\n\t}\n\t\n\tfunction adjustFontSize(el, min, amount) {\n\t  var size = Math.max(parseInt(window.getComputedStyle(el).fontSize, 10) + amount, min);\n\t  if (size !== min) {\n\t    el.style.fontSize = size + 'px';\n\t    return true;\n\t  }\n\t  return false;\n\t}\n\n/***/ },\n\n/***/ 31:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(36);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\texports.save = save;\n\texports.load = load;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction save(key, value) {\n\t  if (typeof key === 'string') {\n\t    localStorage.setItem(key, (0, _stringify2.default)(value));\n\t  } else {\n\t    for (var k in key) {\n\t      if (key.hasOwnProperty(k)) {\n\t        localStorage.setItem(k, (0, _stringify2.default)(key[k]));\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tfunction load(key, defaultValue) {\n\t  var value = null;\n\t  if (typeof key === 'string') {\n\t    value = localStorage.getItem(key);\n\t  }\n\t  try {\n\t    value = value === null && defaultValue !== undefined ? defaultValue : JSON.parse(value);\n\t  } catch (e) {\n\t    value = defaultValue !== undefined ? defaultValue : null;\n\t  }\n\t  return value;\n\t}\n\n/***/ },\n\n/***/ 32:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _toConsumableArray2 = __webpack_require__(39);\n\t\n\tvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\t\n\tvar _log = __webpack_require__(37);\n\t\n\tvar _log2 = _interopRequireDefault(_log);\n\t\n\texports.pad = pad;\n\texports.swap = swap;\n\texports.shuffle = shuffle;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction pad(number, digits) {\n\t  var numDigits = Math.floor((0, _log2.default)(number)) + 1;\n\t  if (numDigits >= digits) {\n\t    return '' + number;\n\t  }\n\t  return Array(digits - numDigits).fill(0).join('') + number;\n\t}\n\t\n\tfunction swap(items, i, j) {\n\t  var k = items[i];\n\t  items[i] = items[j];\n\t  items[j] = k;\n\t}\n\t\n\tfunction shuffle(items) {\n\t  var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : items.length;\n\t\n\t  count = Math.min(items.length, count);\n\t  var shuffled = [].concat((0, _toConsumableArray3.default)(items));\n\t  var len = shuffled.length;\n\t  for (var i = 0; i < count; i++) {\n\t    var j = Math.floor(Math.random() * (len - i)) + i;\n\t    swap(shuffled, i, j);\n\t  }\n\t  return shuffled;\n\t}\n\n/***/ },\n\n/***/ 33:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _assign = __webpack_require__(18);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _extends2 = __webpack_require__(38);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _utils = __webpack_require__(32);\n\t\n\tvar _storage = __webpack_require__(31);\n\t\n\tvar _dom = __webpack_require__(30);\n\t\n\tvar _File = __webpack_require__(76);\n\t\n\tvar _File2 = _interopRequireDefault(_File);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar INITIAL = {\n\t  candidates: [],\n\t  winners: [],\n\t  total: null,\n\t  round: null,\n\t  rolling: false,\n\t  isSetup: false,\n\t  isFit: true,\n\t  editing: false,\n\t  welcome: (0, _storage.load)('welcome') || 'Who\\'s feeling lucky?'\n\t};\n\t\n\texports.default = {\n\t  name: 'lucky',\n\t  components: {\n\t    file: _File2.default\n\t  },\n\t  data: function data() {\n\t    return (0, _extends3.default)({}, INITIAL);\n\t  },\n\t\n\t  computed: {\n\t    remaining: {\n\t      get: function get() {\n\t        if (!this.isSetup) {\n\t          return '∞';\n\t        }\n\t        return this.candidates.length;\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    setup: function setup() {\n\t      if (!this.check('total')) {\n\t        return;\n\t      }\n\t\n\t      this.candidates = Array(this.total).fill(true).map(function (item, i) {\n\t        return (0, _utils.pad)(i + 1, 3);\n\t      });\n\t      this.isSetup = true;\n\t    },\n\t    log: function log(names) {\n\t      var rounds = (0, _storage.load)('current', []);\n\t      rounds.push(names);\n\t      (0, _storage.save)('current', rounds);\n\t    },\n\t    upload: function upload(_ref) {\n\t      var _this = this;\n\t\n\t      var target = _ref.target;\n\t\n\t      var file = target.files[0];\n\t      if (!file) {\n\t        return;\n\t      }\n\t      var reader = new FileReader();\n\t      reader.onload = function (_ref2) {\n\t        var target = _ref2.target;\n\t\n\t        _this.candidates = target.result.split('\\n').map(function (line) {\n\t          return line.trim();\n\t        }).filter(function (line) {\n\t          return line;\n\t        });\n\t        _this.total = _this.candidates.length;\n\t        _this.isSetup = true;\n\t        _this.focus('round');\n\t      };\n\t      reader.readAsText(file);\n\t    },\n\t    roll: function roll() {\n\t      var _this2 = this;\n\t\n\t      if (!this.check('round')) {\n\t        return;\n\t      }\n\t\n\t      var count = this.round;\n\t      if (!this.rolling) {\n\t        this.winners = [];\n\t        this.fit(true);\n\t        this.rolling = setInterval(function () {\n\t          _this2.shuffle(count);\n\t          _this2.fit();\n\t        }, 1000 / 15);\n\t        this.focus('begin');\n\t      } else {\n\t        this.candidates.splice(0, count);\n\t        clearTimeout(this.rolling);\n\t        this.rolling = false;\n\t        this.checkRemaining();\n\t        this.log(this.winners);\n\t      }\n\t    },\n\t    shuffle: function shuffle(count) {\n\t      var shuffled = (0, _utils.shuffle)(this.candidates, count);\n\t      this.winners = shuffled.slice(0, count);\n\t      this.candidates = shuffled;\n\t    },\n\t    reset: function reset() {\n\t      clearTimeout(this.rolling);\n\t      this.$refs.upload.clear();\n\t      (0, _assign2.default)(this, INITIAL);\n\t      (0, _storage.save)('previous', (0, _storage.load)('current'));\n\t      (0, _storage.save)('current', []);\n\t    },\n\t    checkRemaining: function checkRemaining() {\n\t      var validity = '';\n\t      if (this.candidates.length < this.round) {\n\t        validity = '剩余人数不足' + this.round + '人。';\n\t      }\n\t      this.$refs.round.setCustomValidity(validity);\n\t    },\n\t    edit: function edit(isStart) {\n\t      this.editing = isStart;\n\t    },\n\t    click: function click(_ref3) {\n\t      var target = _ref3.target;\n\t\n\t      if (!this.$refs.welcome.contains(target)) {\n\t        this.edit(false);\n\t      }\n\t    },\n\t    focus: function focus(ref, isCollapse) {\n\t      var item = this.$refs[ref];\n\t      this.$nextTick(function () {\n\t        if (item instanceof HTMLElement) {\n\t          (0, _dom.focus)(item, isCollapse);\n\t        } else if (typeof item.focus === 'function') {\n\t          item.focus();\n\t        }\n\t      });\n\t    },\n\t    check: function check(ref) {\n\t      var message = this.$refs[ref].validationMessage;\n\t      if (message) {\n\t        alert(message);\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    fit: function fit(isReset) {\n\t      var _this3 = this;\n\t\n\t      var winners = this.$refs.winners;\n\t      if (isReset) {\n\t        this.isFit = false;\n\t        winners.style.fontSize = '';\n\t      } else {\n\t        this.$nextTick(function () {\n\t          (0, _dom.fitByFontSize)(winners);\n\t          _this3.isFit = true;\n\t        });\n\t      }\n\t    }\n\t  },\n\t  watch: {\n\t    isSetup: function isSetup(val, oldVal) {\n\t      if (val !== oldVal) {\n\t        this.focus(val ? 'round' : 'total');\n\t      }\n\t    },\n\t    editing: function editing(val, oldVal) {\n\t      if (val !== oldVal) {\n\t        if (val) {\n\t          this.focus('welcome', true);\n\t        } else {\n\t          (0, _storage.save)('welcome', this.$refs.welcome.innerHTML);\n\t        }\n\t      }\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    var _this4 = this;\n\t\n\t    window.addEventListener('resize', function () {\n\t      if (_this4.isSetup) {\n\t        _this4.fit();\n\t      }\n\t    });\n\t    window.addEventListener('beforeunload', function () {\n\t      if (_this4.isSetup) {\n\t        return '目前抽奖尚未结束，是否要离开？';\n\t      }\n\t    });\n\t  }\n\t};\n\n/***/ },\n\n/***/ 34:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'file',\n\t  props: {\n\t    name: String,\n\t    disabled: Boolean,\n\t    accept: String,\n\t    multiple: Boolean,\n\t    required: Boolean\n\t  },\n\t  methods: {\n\t    input: function input(e) {\n\t      this.$emit('input', e);\n\t    },\n\t    change: function change(e) {\n\t      this.$emit('change', e);\n\t    },\n\t    choose: function choose() {\n\t      this.$refs.file.click();\n\t    },\n\t    clear: function clear() {\n\t      this.$refs.file.value = '';\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 72:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 73:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 74:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 75:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(74)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(33)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(78)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 76:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(73)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(34)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(77)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 77:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"file\"\n\t  }, [_c('button', {\n\t    attrs: {\n\t      \"type\": \"button\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.choose\n\t    }\n\t  }, [_vm._t(\"default\", [_vm._v(\"选择文件\")])], 2), _vm._v(\" \"), _c('input', {\n\t    ref: \"file\",\n\t    attrs: {\n\t      \"type\": \"file\",\n\t      \"name\": _vm.name,\n\t      \"disabled\": _vm.disabled,\n\t      \"accept\": _vm.accept,\n\t      \"multiple\": _vm.multiple,\n\t      \"required\": _vm.required\n\t    },\n\t    on: {\n\t      \"input\": _vm.input,\n\t      \"change\": _vm.change\n\t    }\n\t  })])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 78:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    },\n\t    on: {\n\t      \"click\": _vm.click\n\t    }\n\t  }, [_c('div', {\n\t    attrs: {\n\t      \"id\": \"display\"\n\t    }\n\t  }, [_c('div', {\n\t    ref: \"winners\",\n\t    style: ({\n\t      visibility: _vm.winners.length && _vm.isFit ? '' : 'hidden'\n\t    }),\n\t    attrs: {\n\t      \"id\": \"winners\"\n\t    }\n\t  }, _vm._l((_vm.winners), function(winner) {\n\t    return _c('span', {\n\t      staticClass: \"name\"\n\t    }, [_vm._v(_vm._s(winner.split('|')[0]) + \" \"), (winner.split('|')[1]) ? _c('span', {\n\t      staticClass: \"desc\"\n\t    }, [_vm._v(\"(\" + _vm._s(winner.split('|')[1]) + \")\")]) : _vm._e()])\n\t  })), _vm._v(\" \"), _c('h1', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (!_vm.winners.length && _vm.isFit),\n\t      expression: \"!winners.length && isFit\"\n\t    }],\n\t    ref: \"welcome\",\n\t    attrs: {\n\t      \"id\": \"welcome\",\n\t      \"contenteditable\": _vm.editing,\n\t      \"spellcheck\": \"false\"\n\t    },\n\t    domProps: {\n\t      \"innerHTML\": _vm._s(_vm.welcome)\n\t    },\n\t    on: {\n\t      \"dblclick\": function($event) {\n\t        $event.stopPropagation();\n\t        _vm.edit(true)\n\t      },\n\t      \"keydown\": function($event) {\n\t        if (_vm._k($event.keyCode, \"enter\", 13)) { return; }\n\t        _vm.edit(false)\n\t      }\n\t    }\n\t  })]), _vm._v(\" \"), _c('div', {\n\t    class: {\n\t      started: _vm.isSetup\n\t    },\n\t    attrs: {\n\t      \"id\": \"control\"\n\t    }\n\t  }, [_c('form', {\n\t    attrs: {\n\t      \"id\": \"setup\"\n\t    },\n\t    on: {\n\t      \"submit\": function($event) {\n\t        $event.preventDefault();\n\t        _vm.setup($event)\n\t      }\n\t    }\n\t  }, [_c('label', [_c('file', {\n\t    ref: \"upload\",\n\t    attrs: {\n\t      \"disabled\": _vm.isSetup\n\t    },\n\t    on: {\n\t      \"change\": _vm.upload\n\t    }\n\t  }, [_vm._v(\"选择文件\")])], 1), _vm._v(\" \"), _c('span', {\n\t    staticClass: \"separator\"\n\t  }, [_vm._v(\"- or -\")]), _vm._v(\" \"), _c('label', [_c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.total),\n\t      expression: \"total\"\n\t    }],\n\t    ref: \"total\",\n\t    attrs: {\n\t      \"type\": \"number\",\n\t      \"required\": \"\",\n\t      \"min\": \"1\",\n\t      \"max\": \"999\",\n\t      \"number\": \"\",\n\t      \"disabled\": _vm.isSetup,\n\t      \"placeholder\": \"一共有几人？\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm._s(_vm.total)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.total = _vm._n($event.target.value)\n\t      },\n\t      \"blur\": function($event) {\n\t        _vm.$forceUpdate()\n\t      }\n\t    }\n\t  })]), _vm._v(\" \"), _c('button', {\n\t    attrs: {\n\t      \"disabled\": _vm.isSetup\n\t    }\n\t  }, [_vm._v(\"确定\")])]), _vm._v(\" \"), _c('form', {\n\t    attrs: {\n\t      \"id\": \"roll\"\n\t    },\n\t    on: {\n\t      \"reset\": _vm.reset,\n\t      \"submit\": function($event) {\n\t        $event.preventDefault();\n\t        _vm.roll($event)\n\t      }\n\t    }\n\t  }, [_c('label', [_c('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.round),\n\t      expression: \"round\"\n\t    }],\n\t    ref: \"round\",\n\t    attrs: {\n\t      \"type\": \"number\",\n\t      \"number\": \"\",\n\t      \"required\": \"\",\n\t      \"disabled\": !this.isSetup || this.rolling,\n\t      \"required\": \"\",\n\t      \"min\": \"1\",\n\t      \"max\": _vm.remaining || 50,\n\t      \"placeholder\": \"本轮抽几人？\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm._s(_vm.round)\n\t    },\n\t    on: {\n\t      \"input\": [function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.round = _vm._n($event.target.value)\n\t      }, _vm.checkRemaining],\n\t      \"blur\": function($event) {\n\t        _vm.$forceUpdate()\n\t      }\n\t    }\n\t  })]), _vm._v(\" / \"), _c('span', {\n\t    staticClass: \"remaining\"\n\t  }, [_vm._v(_vm._s(_vm.remaining))]), _vm._v(\" \"), _c('button', {\n\t    ref: \"begin\",\n\t    attrs: {\n\t      \"disabled\": !_vm.isSetup,\n\t      \"name\": \"begin\"\n\t    }\n\t  }, [_vm._v(_vm._s(_vm.rolling ? '停止' : '开始'))]), _vm._v(\" \"), _c('button', {\n\t    attrs: {\n\t      \"type\": \"reset\",\n\t      \"disabled\": !_vm.isSetup\n\t    }\n\t  }, [_vm._v(\"重置\")])])])])\n\t},staticRenderFns: []}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/app.294779751d794b5d1dd8.js","import Vue from 'vue'\nimport App from './App'\nimport './styles/common.styl'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export function focus (el, isCollapse) {\n  let range = document.createRange()\n  let selection = window.getSelection()\n  if (typeof el.select === 'function' && el.value !== undefined) { // form inputs\n    el.select()\n    if (isCollapse) {\n      selection.collapseToEnd()\n    }\n  } else if (el.contentEditable === 'true') { // contenteditable elements\n    range.selectNodeContents(el)\n    if (isCollapse) {\n      range.collapse()\n    }\n    selection.removeAllRanges()\n    selection.addRange(range)\n    el.focus()\n  } else {\n    el.focus()\n  }\n}\n\nexport function fitByFontSize (el, min = 12, step = 2) {\n  while (el.scrollHeight > el.offsetHeight) {\n    if (!adjustFontSize(el, min, -step)) {\n      break\n    }\n  }\n}\n\nfunction adjustFontSize (el, min, amount) {\n  let size = Math.max(parseInt(window.getComputedStyle(el).fontSize, 10) + amount, min)\n  if (size !== min) {\n    el.style.fontSize = `${size}px`\n    return true\n  }\n  return false\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/dom.js","export function save (key, value) {\n  if (typeof key === 'string') {\n    localStorage.setItem(key, JSON.stringify(value))\n  } else {\n    for (let k in key) {\n      if (key.hasOwnProperty(k)) {\n        localStorage.setItem(k, JSON.stringify(key[k]))\n      }\n    }\n  }\n}\n\nexport function load (key, defaultValue) {\n  let value = null\n  if (typeof key === 'string') {\n    value = localStorage.getItem(key)\n  }\n  try {\n    value = value === null && defaultValue !== undefined ? defaultValue : JSON.parse(value)\n  } catch (e) {\n    value = defaultValue !== undefined ? defaultValue : null\n  }\n  return value\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/storage.js","export function pad (number, digits) {\n  let numDigits = Math.floor(Math.log10(number)) + 1\n  if (numDigits >= digits) {\n    return '' + number\n  }\n  return Array(digits - numDigits).fill(0).join('') + number\n}\n\nexport function swap (items, i, j) {\n  let k = items[i]\n  items[i] = items[j]\n  items[j] = k\n}\n\nexport function shuffle (items, count = items.length) {\n  count = Math.min(items.length, count)\n  let shuffled = [...items]\n  let len = shuffled.length\n  for (let i = 0; i < count; i++) {\n    let j = Math.floor(Math.random() * (len - i)) + i\n    swap(shuffled, i, j)\n  }\n  return shuffled\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils.js","<template>\n  <div id=\"app\" @click=\"click\">\n    <div id=\"display\">\n      <div id=\"winners\" ref=\"winners\" :style=\"{ visibility: winners.length && isFit ? '' : 'hidden' }\"><span class=\"name\" v-for=\"winner in winners\">{{ winner.split('|')[0] }} <span class=\"desc\" v-if=\"winner.split('|')[1]\">({{ winner.split('|')[1] }})</span></span></div>\n      <h1 v-show=\"!winners.length && isFit\" id=\"welcome\" ref=\"welcome\" :contenteditable=\"editing\" @dblclick.stop=\"edit(true)\" @keydown.enter=\"edit(false)\" v-html=\"welcome\" spellcheck=\"false\"></h1>\n    </div>\n    <div id=\"control\" :class=\"{started: isSetup}\">\n      <form id=\"setup\" @submit.prevent=\"setup\">\n        <label><file @change=\"upload\" :disabled=\"isSetup\" ref=\"upload\">选择文件</file></label>\n        <span class=\"separator\">- or -</span>\n        <label><input type=\"number\" required min=\"1\" max=\"999\" v-model=\"total\" number :disabled=\"isSetup\" ref=\"total\" placeholder=\"一共有几人？\"></label> <button :disabled=\"isSetup\">确定</button>\n      </form>\n      <form id=\"roll\" @reset=\"reset\" @submit.prevent=\"roll\">\n        <label><input type=\"number\" v-model=\"round\" number required :disabled=\"!this.isSetup || this.rolling\" required min=\"1\" :max=\"remaining || 50\" @input=\"checkRemaining\" ref=\"round\" placeholder=\"本轮抽几人？\"></label> / <span class=\"remaining\">{{remaining}}</span> <button :disabled=\"!isSetup\" name=\"begin\" ref=\"begin\">{{rolling ? '停止' : '开始'}}</button> <button type=\"reset\" :disabled=\"!isSetup\">重置</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<style lang=\"stylus\">\n@import \"./styles/variables.styl\";\n\n#app\n  display flex\n  flex-direction column\n  justify-content space-between\n  height 100vh\n  font-family -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif\n  -webkit-font-smoothing antialiased\n  -moz-osx-font-smoothing grayscale\n  text-align center\n\n#display\n  position relative\n  display flex\n  justify-content space-around\n  align-items center\n  flex-grow 1\n  overflow hidden\n\n#winners\n  position absolute\n  top 80px\n  right 40px\n  bottom 20px\n  left 40px\n  display flex\n  flex-wrap wrap\n  justify-content space-around\n  align-items center\n  flex-grow 1\n  font-size 6em\n  overflow auto\n\n  .name\n    position relative\n    min-width 10vw\n    padding .3em 1em\n\n  .desc\n    position absolute\n    top 60%\n    left 50%\n    transform translateX(-50%)\n    color $secondary-color\n    font-size .55em\n\n#welcome\n  min-height 1em\n  border-bottom 2px solid transparent\n  padding 0 .3em\n  font-size 5em\n  font-weight 200\n  user-select none\n  cursor default\n  outline none\n\n  &[contenteditable=\"true\"]\n    border-color $aux-color\n    cursor text\n\n    &:hover\n      border-color $normal-color\n\n#control\n  position relative\n  height 150px\n  flex-shrink 0\n  overflow hidden\n\n  form\n    position absolute\n    top 50%\n    left 50%\n    width 320px\n    background-color #fff\n    transform translate(-50%, -50%)\n    transition opacity .3s, transform .3s\n\n  #roll\n    opacity 0\n    z-index -1\n    transform translate(-50%, -50%) scale(2)\n\n    .remaining\n      margin-right 1em\n\n  &.started\n    #setup\n      opacity 0\n      transform translate(-50%, -50%) scale(2)\n\n    #roll\n      opacity 1\n      z-index 0\n      transform translate(-50%, -50%)\n\n.separator\n  margin 0 .5em\n  text-transform uppercase\n  font-size .7em\n  font-weight 700\n  color $aux-color\n  user-select none\n  cursor default\n</style>\n\n<script>\nimport { pad, shuffle } from './lib/utils'\nimport { save, load } from './lib/storage'\nimport { focus, fitByFontSize } from './lib/dom'\nimport File from './components/File'\n\nconst INITIAL = {\n  candidates: [],\n  winners: [],\n  total: null,\n  round: null,\n  rolling: false,\n  isSetup: false,\n  isFit: true,\n  editing: false,\n  welcome: load('welcome') || 'Who\\'s feeling lucky?'\n}\n\nexport default {\n  name: 'lucky',\n  components: {\n    file: File\n  },\n  data () {\n    return {...INITIAL}\n  },\n  computed: {\n    remaining: {\n      get () {\n        if (!this.isSetup) {\n          return '∞'\n        }\n        return this.candidates.length\n      }\n    }\n  },\n  methods: {\n    setup () {\n      if (!this.check('total')) {\n        return\n      }\n\n      this.candidates = Array(this.total).fill(true).map((item, i) => pad(i + 1, 3))\n      this.isSetup = true\n    },\n    log (names) {\n      let rounds = load('current', [])\n      rounds.push(names)\n      save('current', rounds)\n    },\n    upload ({target}) {\n      let file = target.files[0]\n      if (!file) {\n        return\n      }\n      let reader = new FileReader()\n      reader.onload = ({target}) => {\n        this.candidates = target.result\n          .split('\\n')\n          .map(line => line.trim())\n          .filter(line => line)\n        this.total = this.candidates.length\n        this.isSetup = true\n        this.focus('round')\n      }\n      reader.readAsText(file)\n    },\n    roll () {\n      if (!this.check('round')) {\n        return\n      }\n\n      let count = this.round\n      if (!this.rolling) {\n        this.winners = []\n        this.fit(true)\n        this.rolling = setInterval(() => {\n          this.shuffle(count)\n          this.fit()\n        }, 1000 / 15)\n        this.focus('begin')\n      } else {\n        this.candidates.splice(0, count)\n        clearTimeout(this.rolling)\n        this.rolling = false\n        this.checkRemaining()\n        this.log(this.winners)\n      }\n    },\n    shuffle (count) {\n      let shuffled = shuffle(this.candidates, count)\n      this.winners = shuffled.slice(0, count)\n      this.candidates = shuffled\n    },\n    reset () {\n      clearTimeout(this.rolling)\n      this.$refs.upload.clear()\n      Object.assign(this, INITIAL)\n      save('previous', load('current'))\n      save('current', [])\n    },\n    checkRemaining () {\n      let validity = ''\n      if (this.candidates.length < this.round) {\n        validity = '剩余人数不足' + this.round + '人。'\n      }\n      this.$refs.round.setCustomValidity(validity)\n    },\n    edit (isStart) {\n      this.editing = isStart\n    },\n    click ({target}) {\n      if (!this.$refs.welcome.contains(target)) {\n        this.edit(false)\n      }\n    },\n    focus (ref, isCollapse) {\n      let item = this.$refs[ref]\n      this.$nextTick(() => {\n        if (item instanceof HTMLElement) {\n          focus(item, isCollapse)\n        } else if (typeof item.focus === 'function') {\n          item.focus()\n        }\n      })\n    },\n    check (ref) {\n      let message = this.$refs[ref].validationMessage\n      if (message) {\n        alert(message)\n        return false\n      }\n      return true\n    },\n    fit (isReset) {\n      let winners = this.$refs.winners\n      if (isReset) {\n        this.isFit = false\n        winners.style.fontSize = ''\n      } else {\n        this.$nextTick(() => {\n          fitByFontSize(winners)\n          this.isFit = true\n        })\n      }\n    }\n  },\n  watch: {\n    isSetup (val, oldVal) {\n      if (val !== oldVal) {\n        this.focus(val ? 'round' : 'total')\n      }\n    },\n    editing (val, oldVal) {\n      if (val !== oldVal) {\n        if (val) {\n          this.focus('welcome', true)\n        } else {\n          save('welcome', this.$refs.welcome.innerHTML)\n        }\n      }\n    }\n  },\n  mounted () {\n    window.addEventListener('resize', () => {\n      if (this.isSetup) {\n        this.fit()\n      }\n    })\n    window.addEventListener('beforeunload', () => {\n      if (this.isSetup) {\n        return '目前抽奖尚未结束，是否要离开？'\n      }\n    })\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?df0f2ec8","<template>\n  <div class=\"file\">\n    <button type=\"button\" @click=\"choose\"><slot>选择文件</slot></button>\n    <input type=\"file\" ref=\"file\"\n      :name=\"name\"\n      :disabled=\"disabled\"\n      :accept=\"accept\"\n      :multiple=\"multiple\"\n      :required=\"required\"\n      @input=\"input\"\n      @change=\"change\">\n  </div>\n</template>\n\n<style lang=\"stylus\">\n@import \"../styles/variables.styl\";\n\n.file\n  display inline-block\n  overflow hidden\n  vertical-align middle\n  border none\n  cursor pointer\n\n  input\n    position absolute\n    top 0\n    left -100%\n    visibility hidden\n\n  button\n    float left\n    border 2px solid $normal-color\n\n    &:hover\n      border-color $primary-color\n\n  input,\n  button\n    margin 0\n</style>\n\n<script>\nexport default {\n  name: 'file',\n  props: {\n    name: String,\n    disabled: Boolean,\n    accept: String,\n    multiple: Boolean,\n    required: Boolean\n  },\n  methods: {\n    input (e) {\n      this.$emit('input', e)\n    },\n    change (e) {\n      this.$emit('change', e)\n    },\n    choose () {\n      this.$refs.file.click()\n    },\n    clear () {\n      this.$refs.file.value = ''\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// File.vue?6d479347","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-71eec35d!stylus-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-71eec35d!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 75\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-238e1651!stylus-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./File.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./File.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-238e1651!vue-loader/lib/selector?type=template&index=0!./File.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/File.vue\n// module id = 76\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"file\"\n  }, [_c('button', {\n    attrs: {\n      \"type\": \"button\"\n    },\n    on: {\n      \"click\": _vm.choose\n    }\n  }, [_vm._t(\"default\", [_vm._v(\"选择文件\")])], 2), _vm._v(\" \"), _c('input', {\n    ref: \"file\",\n    attrs: {\n      \"type\": \"file\",\n      \"name\": _vm.name,\n      \"disabled\": _vm.disabled,\n      \"accept\": _vm.accept,\n      \"multiple\": _vm.multiple,\n      \"required\": _vm.required\n    },\n    on: {\n      \"input\": _vm.input,\n      \"change\": _vm.change\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-238e1651!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/File.vue\n// module id = 77\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    },\n    on: {\n      \"click\": _vm.click\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"display\"\n    }\n  }, [_c('div', {\n    ref: \"winners\",\n    style: ({\n      visibility: _vm.winners.length && _vm.isFit ? '' : 'hidden'\n    }),\n    attrs: {\n      \"id\": \"winners\"\n    }\n  }, _vm._l((_vm.winners), function(winner) {\n    return _c('span', {\n      staticClass: \"name\"\n    }, [_vm._v(_vm._s(winner.split('|')[0]) + \" \"), (winner.split('|')[1]) ? _c('span', {\n      staticClass: \"desc\"\n    }, [_vm._v(\"(\" + _vm._s(winner.split('|')[1]) + \")\")]) : _vm._e()])\n  })), _vm._v(\" \"), _c('h1', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.winners.length && _vm.isFit),\n      expression: \"!winners.length && isFit\"\n    }],\n    ref: \"welcome\",\n    attrs: {\n      \"id\": \"welcome\",\n      \"contenteditable\": _vm.editing,\n      \"spellcheck\": \"false\"\n    },\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.welcome)\n    },\n    on: {\n      \"dblclick\": function($event) {\n        $event.stopPropagation();\n        _vm.edit(true)\n      },\n      \"keydown\": function($event) {\n        if (_vm._k($event.keyCode, \"enter\", 13)) { return; }\n        _vm.edit(false)\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    class: {\n      started: _vm.isSetup\n    },\n    attrs: {\n      \"id\": \"control\"\n    }\n  }, [_c('form', {\n    attrs: {\n      \"id\": \"setup\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.setup($event)\n      }\n    }\n  }, [_c('label', [_c('file', {\n    ref: \"upload\",\n    attrs: {\n      \"disabled\": _vm.isSetup\n    },\n    on: {\n      \"change\": _vm.upload\n    }\n  }, [_vm._v(\"选择文件\")])], 1), _vm._v(\" \"), _c('span', {\n    staticClass: \"separator\"\n  }, [_vm._v(\"- or -\")]), _vm._v(\" \"), _c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.total),\n      expression: \"total\"\n    }],\n    ref: \"total\",\n    attrs: {\n      \"type\": \"number\",\n      \"required\": \"\",\n      \"min\": \"1\",\n      \"max\": \"999\",\n      \"number\": \"\",\n      \"disabled\": _vm.isSetup,\n      \"placeholder\": \"一共有几人？\"\n    },\n    domProps: {\n      \"value\": _vm._s(_vm.total)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.total = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"disabled\": _vm.isSetup\n    }\n  }, [_vm._v(\"确定\")])]), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"id\": \"roll\"\n    },\n    on: {\n      \"reset\": _vm.reset,\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.roll($event)\n      }\n    }\n  }, [_c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.round),\n      expression: \"round\"\n    }],\n    ref: \"round\",\n    attrs: {\n      \"type\": \"number\",\n      \"number\": \"\",\n      \"required\": \"\",\n      \"disabled\": !this.isSetup || this.rolling,\n      \"required\": \"\",\n      \"min\": \"1\",\n      \"max\": _vm.remaining || 50,\n      \"placeholder\": \"本轮抽几人？\"\n    },\n    domProps: {\n      \"value\": _vm._s(_vm.round)\n    },\n    on: {\n      \"input\": [function($event) {\n        if ($event.target.composing) { return; }\n        _vm.round = _vm._n($event.target.value)\n      }, _vm.checkRemaining],\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" / \"), _c('span', {\n    staticClass: \"remaining\"\n  }, [_vm._v(_vm._s(_vm.remaining))]), _vm._v(\" \"), _c('button', {\n    ref: \"begin\",\n    attrs: {\n      \"disabled\": !_vm.isSetup,\n      \"name\": \"begin\"\n    }\n  }, [_vm._v(_vm._s(_vm.rolling ? '停止' : '开始'))]), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"reset\",\n      \"disabled\": !_vm.isSetup\n    }\n  }, [_vm._v(\"重置\")])])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-71eec35d!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 78\n// module chunks = 2"],"sourceRoot":""}